!function(e){function n(n){for(var a,i,l=n[0],c=n[1],s=n[2],d=0,f=[];d<l.length;d++)i=l[d],r[i]&&f.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(u&&u(n);f.length;)f.shift()();return o.push.apply(o,s||[]),t()}function t(){for(var e,n=0;n<o.length;n++){for(var t=o[n],a=!0,l=1;l<t.length;l++){var c=t[l];0!==r[c]&&(a=!1)}a&&(o.splice(n--,1),e=i(i.s=t[0]))}return e}var a={},r={10:0},o=[];function i(n){if(a[n])return a[n].exports;var t=a[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=a,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)i.d(t,a,function(n){return e[n]}.bind(null,a));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=n,l=l.slice();for(var s=0;s<l.length;s++)n(l[s]);var u=c;o.push([569,0]),t()}({12:function(e,n,t){"use strict";function a(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}t.d(n,"a",function(){return r});var r=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=n}var n,t,r;return n=e,(t=[{key:"append",value:function(e,n){var t=$(this.id),a=$("<div>").addClass("alert ".concat(n," alert-dismissible fade show")).append($("<button>").addClass("close").attr({type:"button","data-dismiss":"alert"}).html("&times;"));a.append(e),t.append(a)}}])&&a(n.prototype,t),r&&a(n,r),e}()},569:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(7),i=t(18),l=t(8);function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.forEach(function(n){s(e,n,t[n])})}return e}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"OPEN_DIALOG_APPEND":return c({},e,{isOpen:!0,id:"",loginId:"",name:"",affiliation:"",isAdmin:!1,isOperator:!1});case"OPEN_DIALOG_EDIT":return c({},e,{isOpen:!0,id:n.user.id,loginId:n.user.loginId,name:n.user.name,affiliation:n.user.affiliation.name,isAdmin:n.user.isAdmin,isOperator:n.user.isOperator});case"CLOSE_DIALOG":return c({},e,{isOpen:!1});case"CHANGE_LOGIN_ID":return c({},e,{loginId:n.text});case"CHANGE_NAME":return c({},e,{name:n.text});case"CHANGE_AFFILIATION":return c({},e,{affiliation:n.obj});case"CHANGE_IS_ADMIN":return c({},e,{isAdmin:n.isChecked});case"CHANGE_IS_OPERATOR":return c({},e,{isOperator:n.isChecked});default:return e}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(arguments.length>1?arguments[1]:void 0).type,e},f=Object(i.b)({userDialog:u,users:d}),p=t(26),m=t.n(p),h=t(12),E=t(13),g=t.n(E),v=t(11),O=t.n(v),y=t(48),b=t.n(y),C=t(52),A=t.n(C),I=t(49),w=t.n(I),_=t(50),N=t.n(_),S=t(51),k=t.n(S),P=t(40),D=t.n(P),G=t(31),j=t.n(G),L=t(63),T=t.n(L),x=t(65),R=t.n(x),F=$('script[src*="users"]').data("affiliations"),H=function(e){var n=e.userDialog,t=e.onLoginIdChange,a=e.onNameChange,o=e.onAffiliationChange,i=e.onIsAdminChanged,l=e.onIsUserChanged,c=e.handleClose,s=e.handleInactivate,u=e.handleResetPassword,d=e.handleSave,f=F.map(function(e){return r.a.createElement(R.a,{key:e.id,value:e},e.name)}),p=n.affiliation||"";return p&&F.map(function(e){return e.id}).includes(p.id)&&(p=F.find(function(e){return e.id==p.id})),r.a.createElement(b.a,{open:n.isOpen,"aria-labelledby":"user-store"},r.a.createElement(w.a,{id:"simple-dialog-title"},"register user"),r.a.createElement(N.a,null,r.a.createElement(k.a,null,"Please register user info."),r.a.createElement(O.a,{autoFocus:!0,margin:"dense",label:"login id",fullWidth:!0,onChange:t,value:n.loginId}),r.a.createElement(O.a,{autoFocus:!0,margin:"dense",label:"name",fullWidth:!0,onChange:a,value:n.name}),r.a.createElement(T.a,{value:p,onChange:o,label:"affiliation"},f),r.a.createElement(D.a,{control:r.a.createElement(j.a,{checked:n.isAdmin,onChange:i,color:"primary"}),label:"is admin"}),r.a.createElement(D.a,{control:r.a.createElement(j.a,{checked:n.isUser,onChange:l,color:"primary"}),label:"is user"})),r.a.createElement(A.a,null,r.a.createElement(g.a,{onClick:c,color:"default"},"Close"),n.id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{onClick:function(){return s(n.id)},variant:"outlined",color:"secondary"},"Inactivate"),r.a.createElement(g.a,{onClick:function(){return u(n.id)},variant:"outlined",color:"secondary"},"Reset Password")),r.a.createElement(g.a,{onClick:function(){return d(n)},variant:"outlined",color:"primary"},"Save")))},M=$('script[src*="users"]').data("url"),J=Object(l.b)(function(e){return{userDialog:e.userDialog}},function(e){return{onLoginIdChange:function(n){return e({type:"CHANGE_LOGIN_ID",text:n.target.value})},onNameChange:function(n){return e({type:"CHANGE_NAME",text:n.target.value})},onAffiliationChange:function(n){return e({type:"CHANGE_AFFILIATION",obj:n.target.value})},onIsAdminChange:function(n){return e({type:"CHANGE_IS_ADMIN",isChecked:n.target.checked})},onIsOperatorChange:function(n){return e({type:"CHANGE_IS_OPERATOR",isChecked:n.target.checked})},handleClose:function(){return e({type:"CLOSE_DIALOG"})},handleInactivate:function(n){m.a.post("".concat(M).concat(n,"/inactivate")).send().set("X-CSRFToken",csrfToken).then(function(t){new h.a("#alertContainer").append("user was successfully inactivated.","alert-info"),e(function(e){return{type:"INACTIVATE_USER",id:e}}(n))}).catch(function(e){var n=JSON.parse(e.response.text),t=new h.a("#alertContainer"),a=n.errorMessage||"we have some trouble with inactivate user...";t.append("Oops, Sorry ".concat(a),"alert-danger")}),e({type:"CLOSE_DIALOG"})},handleResetPassword:function(n){m.a.post("".concat(M).concat(n,"/rest-password")).send().set("X-CSRFToken",csrfToken).then(function(e){new h.a("#alertContainer").append("user was successfully reset password.","alert-info")}).catch(function(e){var n=JSON.parse(e.response.text),t=new h.a("#alertContainer"),a=n.errorMessage||"we have some trouble with resetting password...";t.append("Oops, Sorry ".concat(a),"alert-danger")}),e({type:"CLOSE_DIALOG"})},handleSave:function(n){m.a.post(n.id?"".concat(M).concat(n.id):M).send(n).set("X-CSRFToken",csrfToken).then(function(n){new h.a("#alertContainer").append("user was successfully stored.","alert-info"),skillDialog.id?e({type:"EDIT_USER",user:JSON.parse(n.text)}):e(function(e){return{type:"APPEND_USER",user:e}}(JSON.parse(n.text)))}).catch(function(e){var n=JSON.parse(e.response.text),t=new h.a("#alertContainer"),a=n.errorMessage||"we have some trouble with appending user...";t.append("Oops, Sorry ".concat(a),"alert-danger")}),e({type:"CLOSE_DIALOG"})}}})(H),U=t(53),X=t.n(U),W=t(54),B=t.n(W),V=t(19),Y=t.n(V),q=t(28),z=t.n(q),K=t(55),Q=t.n(K),Z=t(29),ee=t.n(Z),ne=t(35),te=t.n(ne),ae=t(30),re=t.n(ae),oe=t(32),ie=t.n(oe),le=function(e){var n=e.user,t=e.handleEdit;return r.a.createElement(re.a,{button:!0,onClick:t},r.a.createElement(ie.a,{primary:n.name,secondary:"login id: ".concat(n.loginId,", affiliation: ").concat(n.affiliation.name,",\n                is admin: ").concat(n.isAdmin,", is operator: ").concat(n.isOperator)}))},ce=function(e){var n=e.users,t=e.handleEdit,a=n.map(function(e){return r.a.createElement(le,{key:e.id,user:e,handleEdit:function(){return t(e)}})});return r.a.createElement(ee.a,{subheader:r.a.createElement(te.a,{component:"div"},"user"),style:{maxHeight:"76vh",overflowY:"auto"}},a)},se=function(e){var n=e.users,t=e.handleAppend,a=e.handleEdit;return r.a.createElement("div",null,r.a.createElement(X.a,{position:"static",color:"default"},r.a.createElement(B.a,null,r.a.createElement(Y.a,{variant:"h6",color:"inherit",style:{flexGrow:1}},"users"),r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement(z.a,{onClick:t},r.a.createElement(Q.a,null))))),r.a.createElement(ce,{users:n,handleEdit:a}))},ue=Object(l.b)(function(e){return{users:e.users}},function(e){return{handleAppend:function(){return e({type:"OPEN_DIALOG_APPEND"})},handleEdit:function(n){return e(function(e){return{type:"OPEN_DIALOG_EDIT",user:e}}(n))}}})(se),de=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(J,null),r.a.createElement(ue,null))},fe=$('script[src*="users"]').data("users"),pe=Object(i.c)(f,{users:fe,userDialog:{isOpen:!1}});Object(o.render)(r.a.createElement(l.a,{store:pe},r.a.createElement(de,null)),document.getElementById("root"))}});
//# sourceMappingURL=users.bundle.min.js.map