import{AlertManager}from"/statics/js/alert-helper.js";!function(){let a=function(){$.ajax({url:"/affiliations",type:"POST",data:{"affiliation-id":$("#affiliationId").val(),"affiliation-name":$("#affiliationName").val(),"affiliation-note":$("#affiliationNote").val()}}).done(a=>{new AlertManager("#alertContainer").append("New affiliation is correctly registered.","alert-info"),$("#affiliationModal").modal("hide");let i=$(".card-columns"),t=$("<div>").addClass("card").append($("<div>").addClass("card-header").append($("<h4>").addClass("card-title").html(a.affiliationName))).append($("<div>").addClass("card-body").append($("<p>").addClass("card-text").html(a.affiliationNote))).append($("<div>").addClass("card-footer").append($("<div>").addClass("row").append($("<button>").addClass("btn btn-primary btn-sm col-8").attr("id","editAffiliation").attr("type","button").data("id",a.affiliationId).data("name",a.affiliationName).data("note",a.affiliationNote).html("Edit")).append($("<button>").addClass("btn btn-danger btn-sm col-4").attr("id","removeAffiliation").attr("type","button").data("id",a.affiliationId).html("Remove"))));i.append(t)}).fail(a=>{new AlertManager("#alertContainer").append("Oops, Sorry we have some trouble with appending affiliation...","alert-danger")})};$(document).ready(function(){$(document).on("click","#addAffiliation",function(){$("#affiliationName").val(""),$("#affiliationNote").val("");let i=$("#saveAffiliation");i.off("click"),i.on("click",a),$("#affiliationModal").modal()}),$(document).on("click","#editAffiliation",function(){let a=$(this);$("#affiliationName").val(a.data("name")),$("#affiliationNote").val(a.data("note")),$("#saveAffiliation").off("click"),$("#affiliationModal").modal()}),$(document).on("click","#removeAffiliation",function(){let a=$(this);$("#affiliationId").val(a.data("id")),$("#affiliationName").val(a.data("name")),$("#affiliationNote").val(a.data("note")),$("#saveAffiliation").off("click"),$("#affiliationModal").modal()})})}(jQuery);