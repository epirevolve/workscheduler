!function(e){function t(t){for(var n,i,s=t[0],o=t[1],c=t[2],u=0,p=[];u<s.length;u++)i=s[u],r[i]&&p.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(d&&d(t);p.length;)p.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],n=!0,s=1;s<a.length;s++){var o=a[s];0!==r[o]&&(n=!1)}n&&(l.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={3:0},l=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=o;l.push([639,0]),a()}({15:function(e,t,a){"use strict";a.d(t,"a",function(){return n});class n{constructor(e){this.id=e}append(e,t){let a=$(this.id),n=$("<div>").addClass(`alert ${t} alert-dismissible fade show`).append($("<button>").addClass("close").attr({type:"button","data-dismiss":"alert"}).html("&times;"));n.append(e),a.append(n)}}},16:function(e,t,a){"use strict";var n=a(10),r=a(30),l=a.n(r),i=a(27),s=a.n(i);const o=Object(n.createMuiTheme)({palette:{primary:l.a,secondary:s.a},typography:{useNextVariants:!0}});t.a=o},639:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),i=a(14),s=a(7);var o=(e={isOpen:!1},t)=>{switch(t.type){case"OPEN_DIALOG_APPEND":return{...e,isOpen:!0,id:"",name:"",score:"1",isCertified:!0};case"OPEN_DIALOG_EDIT":return{...e,isOpen:!0,id:t.skill.id,name:t.skill.name,score:t.skill.score,isCertified:t.skill.isCertified};case"CLOSE_DIALOG":return{...e,isOpen:!1};case"CHANGE_NAME":return{...e,name:t.text};case"CHANGE_SCORE":return{...e,score:t.score};case"CHANGE_IS_CERTIFIED":return{...e,isCertified:t.isChecked};default:return e}};var c=(e=[],t)=>{switch(t.type){case"APPEND_SKILL":return e.concat([t.skill]);case"EDIT_SKILL":return e.map(e=>e.id!=t.skill.id?e:t.skill);case"REMOVE_SKILL":return e.filter(e=>e.id!=t.id);default:return e}},d=Object(i.c)({skillDialog:o,skills:c}),u=a(10),p=a(16),m=a(25),E=a.n(m),f=a(15);var h=a(20),k=a.n(h),C=a(22),y=a.n(C),O=a(179),v=a.n(O),g=a(190),S=a.n(g),b=a(180),_=a.n(b),I=a(189),w=a.n(I),L=a(197),N=a.n(L),A=a(49),D=a.n(A),P=a(375),x=a.n(P);var G=({skillDialog:e,onNameChange:t,onScoreChange:a,onIsCertifiedChanged:n,handleClose:l,handleRemove:i,handleSave:s})=>r.a.createElement(v.a,{open:e.isOpen,"aria-labelledby":"skill-store"},r.a.createElement(_.a,null,"register skill"),r.a.createElement(w.a,null,r.a.createElement(N.a,null,"certified skills are shown to operators"),r.a.createElement(N.a,null,"and not certified skills are shown to administrators"),r.a.createElement(y.a,{autoFocus:!0,margin:"dense",label:"name",fullWidth:!0,onChange:t,value:e.name}),r.a.createElement(y.a,{autoFocus:!0,margin:"dense",label:"score",fullWidth:!0,type:"number",onChange:a,value:e.score}),r.a.createElement(D.a,{control:r.a.createElement(x.a,{checked:e.isCertified,onChange:n,color:"primary"}),label:"is certified"})),r.a.createElement(S.a,null,r.a.createElement(k.a,{onClick:l,color:"default"},"Close"),e.id&&r.a.createElement(k.a,{onClick:()=>i(e.id),variant:"outlined",color:"secondary"},"Remove"),r.a.createElement(k.a,{onClick:()=>s(e),variant:"outlined",color:"primary"},"Save")));const j=document.querySelector('script[src*="skills"]').dataset.url;var T=Object(s.b)(e=>({skillDialog:e.skillDialog}),e=>({onNameChange:t=>e((e=>({type:"CHANGE_NAME",text:e}))(t.target.value)),onScoreChange:t=>e((e=>({type:"CHANGE_SCORE",score:e}))(t.target.value)),onIsCertifiedChanged:t=>e((e=>({type:"CHANGE_IS_CERTIFIED",isChecked:e}))(t.target.checked)),handleClose:()=>e({type:"CLOSE_DIALOG"}),handleRemove:t=>{E.a.delete(`${j}${t}`).send().set("X-CSRFToken",csrfToken).then(a=>{new f.a("#alertContainer").append("skill was successfully deleted.","alert-info"),e((e=>({type:"REMOVE_SKILL",id:e}))(t))}).catch(e=>{const t=JSON.parse(e.response.text),a=new f.a("#alertContainer"),n=t.errorMessage||"we have some trouble with deleting skill...";a.append(`Oops, Sorry... ${n}`,"alert-danger")}),e({type:"CLOSE_DIALOG"})},handleSave:t=>{E.a.post(t.id?`${j}${t.id}`:j).send(t).set("X-CSRFToken",csrfToken).then(a=>{new f.a("#alertContainer").append("skill was successfully stored.","alert-info"),t.id?e((e=>({type:"EDIT_SKILL",skill:e}))(JSON.parse(a.text))):e((e=>({type:"APPEND_SKILL",skill:e}))(JSON.parse(a.text)))}).catch(e=>{const t=JSON.parse(e.response.text),a=new f.a("#alertContainer"),n=t.errorMessage||"we have some trouble with appending skill...";a.append(`Oops, Sorry... ${n}`,"alert-danger")}),e({type:"CLOSE_DIALOG"})}}))(G),M=a(12),R=a.n(M),$=a(186),F=a.n($),J=a(187),H=a.n(J),K=a(19),V=a.n(K),q=a(24),W=a.n(q),X=a(48),B=a.n(X),z=a(41),Q=a.n(z),U=a(274),Y=a.n(U),Z=a(38),ee=a.n(Z),te=a(37),ae=a.n(te);var ne=({skill:e,handleEdit:t})=>r.a.createElement(ee.a,{button:!0,onClick:t},r.a.createElement(ae.a,{primary:e.name,secondary:e.score}));var re=({title:e,skills:t,handleEdit:a})=>r.a.createElement(Q.a,{subheader:r.a.createElement(Y.a,{component:"div"},e)},t.map(e=>r.a.createElement(ne,{key:e.id,skill:e,handleEdit:()=>a(e)})));var le=({certifiedSkills:e,notCertifiedSkills:t,handleAppend:a,handleEdit:n})=>r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{position:"static",color:"default"},r.a.createElement(H.a,null,r.a.createElement(V.a,{variant:"title",color:"inherit",style:{flexGrow:1}},"skills"),r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement(W.a,{onClick:a},r.a.createElement(B.a,null))))),r.a.createElement(R.a,{container:!0},r.a.createElement(R.a,{item:!0,sm:6,xs:12},r.a.createElement(re,{title:"certified skills",skills:e,handleEdit:n})),r.a.createElement(R.a,{item:!0,sm:6,xs:12},r.a.createElement(re,{title:"not certified skills",skills:t,handleEdit:n}))));var ie=Object(s.b)(e=>({certifiedSkills:e.skills.filter(e=>e.isCertified),notCertifiedSkills:e.skills.filter(e=>!e.isCertified)}),e=>({handleAppend:()=>e({type:"OPEN_DIALOG_APPEND"}),handleEdit:t=>e((e=>({type:"OPEN_DIALOG_EDIT",skill:e}))(t))}))(le);var se=()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null),r.a.createElement(ie,null));const oe=document.querySelector('script[src*="skills"]').dataset,ce=JSON.parse(oe.skills),de=Object(i.e)(d,{skills:ce,skillDialog:{isOpen:!1}});Object(l.render)(r.a.createElement(u.MuiThemeProvider,{theme:p.a},r.a.createElement(s.a,{store:de},r.a.createElement(se,null))),document.getElementById("root"))}});
//# sourceMappingURL=skills.bundle.min.js.map