!function(e){function t(t){for(var a,l,o=t[0],c=t[1],u=t[2],s=0,f=[];s<o.length;s++)l=o[s],r[l]&&f.push(r[l][0]),r[l]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(m&&m(t);f.length;)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(i.splice(t--,1),e=l(l.s=n[0]))}return e}var a={},r={7:0},i=[];function l(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=a,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var m=c;i.push([604,0]),n()}({10:function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}n.d(t,"a",function(){return r});var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t}var t,n,r;return t=e,(n=[{key:"append",value:function(e,t){var n=$(this.id),a=$("<div>").addClass("alert ".concat(t," alert-dismissible fade show")).append($("<button>").addClass("close").attr({type:"button","data-dismiss":"alert"}).html("&times;"));a.append(e),n.append(a)}}])&&a(t.prototype,n),r&&a(t,r),e}()},34:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(51),l=n.n(i),o=n(249),c=n.n(o),u=n(47),m=n.n(u),s=n(250),f=n.n(s),d=n(15),p=n.n(d);t.a=function(e){var t=e.title,n=e.img,a=e.description,i=e.href,o=e.onClick;return r.a.createElement(l.a,{style:{width:"100%",minWidth:120,maxHeight:320,minHeight:320}},r.a.createElement(c.a,{href:i,onClick:o,style:{height:320}},r.a.createElement(m.a,null,r.a.createElement(p.a,{gutterBottom:!0,variant:"h4",className:"menuHeader"},t)),r.a.createElement(f.a,{component:"img",alt:t,title:t,height:"140",image:n}),r.a.createElement(m.a,null,r.a.createElement(p.a,{gutterBottom:!0,component:"p",className:"menuContent"},a))))}},604:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(7),l=n(13),o=n(5);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_AFFILIATION":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){c(e,t,n[t])})}return e}({},e,{affiliation:t.affiliation});default:return e}},m=Object(l.b)({menu:u}),s=n(58),f=n.n(s),d=n(46),p=n.n(d),h=n(15),y=n.n(h),g=n(277),b=n.n(g),E=$('script[src*="scheduler-menu"]').data("affiliations"),v=function(e){var t=e.affiliation,n=e.onAffiliationChange,a=E.map(function(e){return r.a.createElement(p.a,{key:e.id,value:e},r.a.createElement(y.a,{variant:"h5",className:"menuHeader"},e.name))});return E.map(function(e){return e.id}).includes(t.id)&&(t=E.find(function(e){return e.id==t.id})),r.a.createElement(f.a,{value:t,onChange:n,fullWidth:!0,className:"m-2",input:r.a.createElement(b.a,{labelWidth:0})},a)},w=Object(o.b)(function(e){return{affiliation:e.menu.affiliation}},function(e){return{onAffiliationChange:function(t){e({type:"CHANGE_AFFILIATION",affiliation:t.target.value})}}})(v),C=n(29),O=n.n(C),k=n(44),S=n.n(k),j=n(43),_=n.n(j),L=n(9),P=n.n(L),x=n(21),z=n.n(x),A=n(352),F=n.n(A),N=n(353),T=n.n(N),M=n(11),I=n.n(M),B=n(34),H=n(10);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function D(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var G=document.querySelector('script[src*="scheduler-menu"]').dataset,R=G.urlMonthly,X=G.urlBasic,K=G.urlYearly,Q=G.urlLaunch,U=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=D(this,W(t).call(this,e))).state={openCalendar:!1,year:(new Date).getFullYear()},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,r.a.Component),n=t,(a=[{key:"handleLunch",value:function(e){var t=this.props.affiliation;this.setState({openCalendar:!1}),new H.a("#alertContainer").append("Started to make schedule. Please wait until it will be done.","alert-info"),O.a.post(Q.replace("affiliation_id",t.id).replace("month_",e).replace("year_",this.state.year)).send(t).set("X-CSRFToken",csrfToken).then(function(e){new H.a("#alertContainer").append("Finish to make schedule.","alert-info")}).catch(function(e){var t=e.response.text||"we have some trouble with launching scheduler...";new H.a("#alertContainer").append("Oops, Sorry... ".concat(t),"alert-danger")})}},{key:"render",value:function(){var e=this,t=this.props.affiliation;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{open:this.state.openCalendar,onClose:function(){return e.setState({openCalendar:!1})}},r.a.createElement(S.a,{style:{textAlign:"center"}},r.a.createElement(z.a,{"aria-label":"back year",onClick:function(){return e.setState({year:e.state.year-1})}},r.a.createElement(F.a,null)),r.a.createElement("span",{style:{fontSize:"2rem",padding:"0 2rem"}},this.state.year),r.a.createElement(z.a,{"aria-label":"forward year",onClick:function(){return e.setState({year:e.state.year+1})}},r.a.createElement(T.a,null))),r.a.createElement("div",{style:{textAlign:"center",marginBottom:"10px"}},r.a.createElement(P.a,{container:!0},r.a.createElement(P.a,{item:!0,sm:12,md:3},r.a.createElement(I.a,{color:"primary",size:"large",onClick:function(){return e.handleLunch(1)}},"Jan")),r.a.createElement(P.a,{item:!0,sm:12,md:3},r.a.createElement(I.a,{color:"primary",size:"large",onClick:function(){return e.handleLunch(2)}},"Feb")),r.a.createElement(P.a,{item:!0,sm:12,md:3},r.a.createElement(I.a,{color:"primary",size:"large",onClick:function(){return e.handleLunch(3)}},"Mar")),r.a.createElement(P.a,{item:!0,sm:12,md:3},r.a.createElement(I.a,{color:"primary",size:"large",onClick:function(){return e.handleLunch(4)}},"Apr")),r.a.createElement(P.a,{item:!0,sm:12,md:3},r.a.createElement(I.a,{color:"primary",size:"large",onClick:function(){return e.handleLunch(5)}},"May")),r.a.createElement(P.a,{item:!0,sm:12,md:3},r.a.createElement(I.a,{color:"primary",size:"large",onClick:function(){return e.handleLunch(6)}},"Jun")),r.a.createElement(P.a,{item:!0,sm:12,md:3},r.a.createElement(I.a,{color:"primary",size:"large",onClick:function(){return e.handleLunch(7)}},"Jul")),r.a.createElement(P.a,{item:!0,sm:12,md:3},r.a.createElement(I.a,{color:"primary",size:"large",onClick:function(){return e.handleLunch(8)}},"Aug")),r.a.createElement(P.a,{item:!0,sm:12,md:3},r.a.createElement(I.a,{color:"primary",size:"large",onClick:function(){return e.handleLunch(9)}},"Sep")),r.a.createElement(P.a,{item:!0,sm:12,md:3},r.a.createElement(I.a,{color:"primary",size:"large",onClick:function(){return e.handleLunch(10)}},"Oct")),r.a.createElement(P.a,{item:!0,sm:12,md:3},r.a.createElement(I.a,{color:"primary",size:"large",onClick:function(){return e.handleLunch(11)}},"Nov")),r.a.createElement(P.a,{item:!0,sm:12,md:3},r.a.createElement(I.a,{color:"primary",size:"large",onClick:function(){return e.handleLunch(12)}},"Dec"))))),r.a.createElement(P.a,{container:!0,spacing:16,className:"my-4",style:{marginLeft:"0.2rem"}},r.a.createElement(P.a,{item:!0,xs:12,md:6,lg:3},r.a.createElement(B.a,{title:"Monthly Setting",img:"/statics/img/scheduler-monthly-setting.svg",href:R.replace("affiliation_id",t.id),description:"set require number of member each day and prefixed schedule"})),r.a.createElement(P.a,{item:!0,xs:12,md:6,lg:3},r.a.createElement(B.a,{title:"Basic Setting",img:"/statics/img/scheduler-basic-setting.svg",href:X.replace("affiliation_id",t.id),description:"set work category and witch parameter will be used when making a schedule"})),r.a.createElement(P.a,{item:!0,xs:12,md:6,lg:3},r.a.createElement(B.a,{title:"Yearly Setting",img:"/statics/img/scheduler-yearly-setting.svg",href:K.replace("affiliation_id",t.id),description:"set vacation in summer or winter"})),r.a.createElement(P.a,{item:!0,xs:12,md:6,lg:3},r.a.createElement(B.a,{title:"Launch",img:"/statics/img/scheduler-launch.svg",href:"#",onClick:function(){return e.setState({openCalendar:!0})},description:"create schedule of current affiliation and selected month"}))))}}])&&q(n.prototype,a),i&&q(n,i),t}(),V=Object(o.b)(function(e){return{affiliation:e.menu.affiliation}})(U),Z=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,null),r.a.createElement(V,null))},ee=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,null))},te=document.querySelector('script[src*="scheduler-menu"]').dataset,ne={affiliation:JSON.parse(te.affiliations)[0]},ae=Object(l.c)(m,{menu:ne});Object(i.render)(r.a.createElement(o.a,{store:ae},r.a.createElement(ee,null)),document.getElementById("root"))}});
//# sourceMappingURL=scheduler-menu.bundle.min.js.map