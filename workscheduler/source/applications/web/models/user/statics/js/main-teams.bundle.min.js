!function(e){function a(a){for(var n,i,o=a[0],s=a[1],m=a[2],u=0,d=[];u<o.length;u++)i=o[u],r[i]&&d.push(r[i][0]),r[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(c&&c(a);d.length;)d.shift()();return l.push.apply(l,m||[]),t()}function t(){for(var e,a=0;a<l.length;a++){for(var t=l[a],n=!0,o=1;o<t.length;o++){var s=t[o];0!==r[s]&&(n=!1)}n&&(l.splice(a--,1),e=i(i.s=t[0]))}return e}var n={},r={13:0},l=[];function i(a){if(n[a])return n[a].exports;var t=n[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=n,i.d=function(e,a,t){i.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,a){if(1&a&&(e=i(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var n in e)i.d(t,n,function(a){return e[a]}.bind(null,n));return t},i.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(a,"a",a),a},i.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},i.p="";var o=window.webpackJsonp=window.webpackJsonp||[],s=o.push.bind(o);o.push=a,o=o.slice();for(var m=0;m<o.length;m++)a(o[m]);var c=s;l.push([646,0]),t()}({15:function(e,a,t){"use strict";var n=t(10),r=t(29),l=t.n(r),i=t(26),o=t.n(i);const s=Object(n.createMuiTheme)({palette:{primary:l.a,secondary:o.a},typography:{useNextVariants:!0}});a.a=s},17:function(e,a,t){"use strict";t.d(a,"a",function(){return n});class n{constructor(e){this.id=e}append(e,a){let t=$(this.id),n=$("<div>").addClass(`alert ${a} alert-dismissible fade show`).append($("<button>").addClass("close").attr({type:"button","data-dismiss":"alert"}).html("&times;"));n.append(e),t.append(n)}}},646:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(11),i=t(14),o=t(7);var s=(e={isOpen:!1},a)=>{switch(a.type){case"OPEN_DIALOG_APPEND":return{...e,isOpen:!0,id:"",name:"",note:""};case"OPEN_DIALOG_EDIT":return{...e,isOpen:!0,id:a.mainTeam.id,name:a.mainTeam.name,note:a.mainTeam.note};case"CLOSE_DIALOG":return{...e,isOpen:!1};case"CHANGE_NAME":return{...e,name:a.text};case"CHANGE_NOTE":return{...e,note:a.text};default:return e}};var m=(e=[],a)=>{switch(a.type){case"APPEND_MAIN_TEAM":return e.concat([a.mainTeam]);case"EDIT_MAIN_TEAM":return e.map(e=>e.id!=a.mainTeam.id?e:a.mainTeam);case"REMOVE_MAIN_TEAM":return e.filter(e=>e.id!=id);default:return e}},c=Object(i.c)({mainTeamDialog:s,mainTeams:m}),u=t(10),d=t(15),p=t(30),E=t.n(p),h=t(17);var f=t(19),v=t.n(f),y=t(22),O=t.n(y),T=t(180),g=t.n(T),b=t(191),N=t.n(b),_=t(181),A=t.n(_),C=t(190),M=t.n(C);var w=({mainTeamDialog:e,onNameChange:a,onNoteChange:t,handleClose:n,handleRemove:l,handleSave:i})=>r.a.createElement(g.a,{open:e.isOpen,"aria-labelledby":"main-team-store",maxWidth:"lg"},r.a.createElement(A.a,null,"register main team"),r.a.createElement(M.a,null,r.a.createElement(O.a,{autoFocus:!0,margin:"dense",label:"name",fullWidth:!0,required:!0,onChange:a,value:e.name}),r.a.createElement(O.a,{margin:"dense",label:"note",fullWidth:!0,multiline:!0,rowsMax:"5",variant:"outlined",onChange:t,value:e.note})),r.a.createElement(N.a,null,r.a.createElement(v.a,{onClick:n,color:"default",className:"mr-1"},"Close"),e.id&&r.a.createElement(v.a,{onClick:()=>l(e.id),variant:"outlined",color:"secondary",className:"mr-1"},"Remove"),r.a.createElement(v.a,{onClick:()=>i(e),variant:"outlined",color:"primary"},"Save")));const S=document.querySelector('script[src*="main-teams"]').dataset.url;var D=Object(o.b)(e=>({mainTeamDialog:e.mainTeamDialog}),e=>({onNameChange:a=>e((e=>({type:"CHANGE_NAME",text:e}))(a.target.value)),onNoteChange:a=>e((e=>({type:"CHANGE_NOTE",text:e}))(a.target.value)),handleClose:()=>e({type:"CLOSE_DIALOG"}),handleRemove:a=>{E.a.delete(`${S}${a}`).send().set("X-CSRFToken",csrfToken).then(t=>{new h.a("#alertContainer").append("main team was successfully remove.","alert-info"),e((e=>({type:"REMOVE_MAIN_TEAM",id:e}))(a))}).catch(e=>{const a=JSON.parse(e.response.text),t=new h.a("#alertContainer"),n=a.errorMessage||"we have some trouble with removing main team...";t.append(`Oops, Sorry... ${n}`,"alert-danger")}),e({type:"CLOSE_DIALOG"})},handleSave:a=>{E.a.post(a.id?`${S}${a.id}`:S).send(a).set("X-CSRFToken",csrfToken).then(t=>{new h.a("#alertContainer").append("affiliation was successfully stored.","alert-info"),a.id?e((e=>({type:"EDIT_MAIN_TEAM",mainTeam:e}))(JSON.parse(t.text))):e((e=>({type:"APPEND_MAIN_TEAM",mainTeam:e}))(JSON.parse(t.text)))}).catch(e=>{const a=JSON.parse(e.response.text),t=new h.a("#alertContainer"),n=a.errorMessage||"we have some trouble with appending main team...";t.append(`Oops, Sorry... ${n}`,"alert-danger")}),e({type:"CLOSE_DIALOG"})}}))(w),x=t(187),I=t.n(x),P=t(188),j=t.n(P),G=t(21),k=t.n(G),L=t(23),$=t.n(L),J=t(49),R=t.n(J),H=t(42),F=t.n(H),q=t(38),V=t.n(q),W=t(37),X=t.n(W);var B=({mainTeam:e,handleEdit:a})=>r.a.createElement(V.a,{button:!0,onClick:a},r.a.createElement(X.a,{primary:e.name,secondary:`note: ${e.note}`}));var Y=({mainTeams:e,handleEdit:a})=>{const t=e.map(e=>r.a.createElement(B,{key:e.id,mainTeam:e,handleEdit:()=>a(e)}));return r.a.createElement(F.a,{style:{maxHeight:"76vh",overflowY:"auto"}},t)};var z=({handleAppend:e,...a})=>r.a.createElement("div",null,r.a.createElement(I.a,{position:"static",color:"default"},r.a.createElement(j.a,null,r.a.createElement(k.a,{variant:"h6",color:"inherit",style:{flexGrow:1}},"main teams"),r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement($.a,{onClick:e},r.a.createElement(R.a,null))))),r.a.createElement(Y,a));var K=Object(o.b)(e=>({mainTeams:e.mainTeams}),e=>({handleAppend:()=>e({type:"OPEN_DIALOG_APPEND"}),handleEdit:a=>e((e=>({type:"OPEN_DIALOG_EDIT",mainTeam:e}))(a))}))(z);var Q=()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(D,null),r.a.createElement(K,null));const U=document.querySelector('script[src*="main-teams"]').dataset,Z=JSON.parse(U.mainTeams),ee=Object(i.e)(c,{mainTeams:Z,mainTeamDialog:{isOpen:!1}});Object(l.render)(r.a.createElement(u.MuiThemeProvider,{theme:d.a},r.a.createElement(o.a,{store:ee},r.a.createElement(Q,null))),document.getElementById("root"))}});
//# sourceMappingURL=main-teams.bundle.min.js.map